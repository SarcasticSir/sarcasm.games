<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Lighthouse Keeper</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>The Lighthouse Keeper</h1>

    <div id="game-container">
        <div id="game-info">
            <div class="counter">Light Strength: <span id="light-strength">10</span></div>
            <div class="counter">Storm Cards Left: <span id="storm-deck-counter"></span></div>
            <div class="counter">Action Cards Left: <span id="action-deck-counter"></span></div>
        </div>

        <div id="active-storm-card-slot">
            <div class="card storm-card">
                <div class="card-title">A Storm Is Coming...</div>
                <div class="card-description">Draw a storm card to start.</div>
            </div>
        </div>

        <div id="player-hand">
            </div>

        <div id="controls">
            <button id="play-button">Play Cards</button>
            <button id="pass-button">Endure the Threat</button>
        </div>
    </div>

    <div id="rules-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Rules</h2>
            <p><strong>Objective:</strong> Keep the lighthouse light shining by surviving 20 rounds of storms.</p>
            <p><strong>Gameplay:</strong></p>
            <ul>
                <li>The game starts with 10 Light Strength. The game ends if it drops to 0.</li>
                <li>Each round, a Storm Card is drawn, presenting a threat and a requirement.</li>
                <li>You have a hand of Action Cards. Each card has a specific type (e.g., MAINTENANCE, PREPARATION, FOCUS, RESILIENCE).</li>
                <li>To overcome a Storm, you must play Action Cards that match its requirements.</li>
                <li>If you meet all requirements, you successfully overcome the storm. Some cards also give you a reward.</li>
                <li>If you fail to meet the requirements, you lose Light Strength equal to the storm card's threat value.</li>
                <li>If you don't have the cards you need, you can "Endure the Threat" to skip the turn and take the damage.</li>
                <li>After each round, your hand is refilled to 5 cards from the Action Deck.</li>
                <li>The game is won if you survive all 20 storm cards.</li>
            </ul>
        </div>
    </div>

    <div id="game-over-modal" class="modal hidden">
        <div class="modal-content">
            <h2 id="game-over-title"></h2>
            <p id="game-over-message"></p>
            <button id="restart-button">Restart</button>
        </div>
    </div>

    <div id="victory-modal" class="modal hidden">
        <div class="modal-content">
            <h2 class="result-title">Victory! The Dawn Breaks...</h2>
            <p class="result-message">The final storm has passed. The morning sun rises, a beacon of hope for all at sea. Your watch is complete. You have won.</p>
            <button class="restart-button">Play Again</button>
        </div>
    </div>

    <div id="defeat-modal" class="modal hidden">
        <div class="modal-content">
            <h2 class="result-title">Defeated. The Light Has Gone Out...</h2>
            <p class="result-message">The storm proved too powerful. The lighthouse's light has been extinguished, a grim silence falling over the waves. You have lost.</p>
            <button class="restart-button">Try Again</button>
        </div>
    </div>

    <button id="rules-button">Rules</button>

    <a href="https://sarcasm.games" class="back-button">Back</a>

    <script src="script.js"></script>
</body>
</html>
